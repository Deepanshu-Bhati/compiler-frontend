{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/ubantu/Desktop/Project1/compiler/app/Provider.tsx"],"sourcesContent":["\"use client\";\nimport { createContext, useRef, useState } from \"react\";\n\ntype ThemeContextType = {\n  theme: \"light\" | \"dark\";\n  setTheme: React.Dispatch<React.SetStateAction<\"light\" | \"dark\">>;\n};\n\n\nexport const ThemeContext = createContext<ThemeContextType>({\n  theme: \"light\",\n  setTheme: () => {},\n});\ntype SocketHandlers = {\n  onOpen?: () => void;\n  onMessage?: (event: MessageEvent) => void;\n  onClose?: () => void;\n  // onMessageHandler:(handler:MessageHandler)=>void;\n  onError?: (event: Event) => void;\n};\n\ntype MessageHandler=(data:string)=>void;\ntype socketContextType={\nsocketRef:React.MutableRefObject<WebSocket|null>;\nsetOnMessage:(handler:MessageHandler)=>void;\nconnect:(url:string,handlers:SocketHandlers) =>void;\ndisconnect:()=>void;\nsend:(data:string)=>void;\n\n}\n\n\nexport const WebSocketContext=createContext<socketContextType|null>(null);\n\nexport default function Provider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");  \n  const socketRef=useRef<WebSocket|null>(null);\n  const messageHandlerref=useRef<MessageHandler |null>(null);\n\n\n  \n  const connect=(url:string,handlers?:{\n    onOpen? :()=>void;\n    onMessage?:(e:MessageEvent)=>void;\n    onClose?:()=>void\n    onError?:(e:Event) =>void;\n  })=>{\n    if(socketRef.current){\n      socketRef.current.close();\n    }\n    const socket=new WebSocket(url);\n    if(handlers?.onOpen) socket.onopen=handlers.onOpen;\n    if(handlers?.onMessage) socket.onmessage=handlers.onMessage;\n    if(handlers?.onClose) socket.onclose=handlers.onClose;\n    if(handlers?.onError) socket.onerror=handlers.onError;\n    socket.onmessage=(event)=>{\n      console.log(\"message received\")\n      messageHandlerref.current?.(event.data);\n    }\n    socketRef.current=socket;\n  }\n\n\n\n  const setOnMessage=(handler:MessageHandler)=>{\n    messageHandlerref.current=handler\n  }\n\n\n\n  const send=(data:string)=>{\n    if(socketRef.current?.readyState==WebSocket.OPEN){\n      socketRef.current.send(data);\n    }\n  }\n\n\n\n\n  const disconnect=()=>{\n    socketRef.current?.close();\n    socketRef.current=null;\n  }\n\n  return (\n    <WebSocketContext.Provider value={{socketRef,send,connect,setOnMessage,disconnect}}>\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n    </WebSocketContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AACA;AADA;;;AASO,MAAM,6BAAe,IAAA,8OAAa,EAAmB;IAC1D,OAAO;IACP,UAAU,KAAO;AACnB;AAoBO,MAAM,iCAAiB,IAAA,8OAAa,EAAyB;AAErD,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yOAAQ,EAAmB;IACrD,MAAM,YAAU,IAAA,uOAAM,EAAiB;IACvC,MAAM,oBAAkB,IAAA,uOAAM,EAAuB;IAIrD,MAAM,UAAQ,CAAC,KAAW;QAMxB,IAAG,UAAU,OAAO,EAAC;YACnB,UAAU,OAAO,CAAC,KAAK;QACzB;QACA,MAAM,SAAO,IAAI,UAAU;QAC3B,IAAG,UAAU,QAAQ,OAAO,MAAM,GAAC,SAAS,MAAM;QAClD,IAAG,UAAU,WAAW,OAAO,SAAS,GAAC,SAAS,SAAS;QAC3D,IAAG,UAAU,SAAS,OAAO,OAAO,GAAC,SAAS,OAAO;QACrD,IAAG,UAAU,SAAS,OAAO,OAAO,GAAC,SAAS,OAAO;QACrD,OAAO,SAAS,GAAC,CAAC;YAChB,QAAQ,GAAG,CAAC;YACZ,kBAAkB,OAAO,GAAG,MAAM,IAAI;QACxC;QACA,UAAU,OAAO,GAAC;IACpB;IAIA,MAAM,eAAa,CAAC;QAClB,kBAAkB,OAAO,GAAC;IAC5B;IAIA,MAAM,OAAK,CAAC;QACV,IAAG,UAAU,OAAO,EAAE,cAAY,UAAU,IAAI,EAAC;YAC/C,UAAU,OAAO,CAAC,IAAI,CAAC;QACzB;IACF;IAKA,MAAM,aAAW;QACf,UAAU,OAAO,EAAE;QACnB,UAAU,OAAO,GAAC;IACpB;IAEA,qBACE,sQAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAC;YAAU;YAAK;YAAQ;YAAa;QAAU;kBACjF,cAAA,sQAAC,aAAa,QAAQ;YAAC,OAAO;gBAAE;gBAAO;YAAS;sBAC7C;;;;;;;;;;;AAIP"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/ubantu/Desktop/Project1/compiler/app/Components/hooks.tsx"],"sourcesContent":["import { useContext } from \"react\";\nimport { ThemeContext, WebSocketContext } from \"../Provider\";\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n\n\nexport function useHook(){\n  const ctx=useContext(WebSocketContext);\n  if(!ctx){\n    throw new Error(\"websocket is not exist\");\n\n  }\n  return ctx;\n}\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,2OAAU,EAAC,wJAAY;AAChC;AAGO,SAAS;IACd,MAAM,MAAI,IAAA,2OAAU,EAAC,4JAAgB;IACrC,IAAG,CAAC,KAAI;QACN,MAAM,IAAI,MAAM;IAElB;IACA,OAAO;AACT"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///home/ubantu/Desktop/Project1/compiler/app/Components/Navbar.tsx"],"sourcesContent":["\"use client\";\nimport { FaSun, FaMoon } from \"react-icons/fa\";\nimport { useTheme } from \"./hooks\";\n\nexport default function Navbar() {\n  const { theme, setTheme } = useTheme();\n\n  const toggleTheme = () => {\n    setTheme(theme === \"dark\" ? \"light\" : \"dark\");\n  };\n\n  return (\n    <div\n      className={`\n        ${theme === \"light\"\n          ? \"text-black bg-amber-100\"\n          : \"text-amber-100 bg-gray-900\"\n        }\n        h-20 sticky top-0 z-50 w-full\n        flex items-center px-6 shadow-md border-b border-gray-400\n      `}\n    >\n      <div className=\"w-full flex justify-between items-center\">\n\n        <b className=\"text-5xl font-extrabold tracking-wide select-none\">\n          <span className=\"text-blue-400\">DE</span>CODE\n        </b>\n\n        <button\n          onClick={toggleTheme}\n          className=\"p-3 rounded-full transition-all\n                     hover:scale-110 active:scale-95\"\n          aria-label=\"Toggle theme\"\n        >\n          {theme === \"light\" ? (\n            <FaMoon className=\"text-3xl text-gray-700\" />\n          ) : (\n            <FaSun className=\"text-3xl text-yellow-300\" />\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAEpC,MAAM,cAAc;QAClB,SAAS,UAAU,SAAS,UAAU;IACxC;IAEA,qBACE,sQAAC;QACC,WAAW,CAAC;QACV,EAAE,UAAU,UACR,4BACA,6BACH;;;MAGH,CAAC;kBAED,cAAA,sQAAC;YAAI,WAAU;;8BAEb,sQAAC;oBAAE,WAAU;;sCACX,sQAAC;4BAAK,WAAU;sCAAgB;;;;;;wBAAS;;;;;;;8BAG3C,sQAAC;oBACC,SAAS;oBACT,WAAU;oBAEV,cAAW;8BAEV,UAAU,wBACT,sQAAC,gLAAM;wBAAC,WAAU;;;;;6CAElB,sQAAC,+KAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAM7B"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///home/ubantu/Desktop/Project1/compiler/app/Components/Terminal.tsx"],"sourcesContent":["\"use client\"    \nimport { useRef ,useEffect} from \"react\"\nimport { Terminal } from \"xterm\";\nimport { FitAddon } from \"xterm-addon-fit\";\nimport { useHook } from \"./hooks\";\n// import \"xterm/css/xterm.css\";\n// import { send } from \"process\";\n\n\nexport function Clean(){\n\n}\n\nexport default function TerminalArea(){\n    const termref=useRef<HTMLDivElement | null>(null);\n    const terminal=useRef<Terminal | null>(null);\n    const{setOnMessage,send} =useHook();\n    useEffect(()=>{\n        if(!termref.current) return;\n        const term=new Terminal({\n            cursorBlink:true,\n            fontSize:14,\n            theme:{\n                background:\"#000000\",\n                foreground:\"#00ff00\"\n            }\n        })\n        const fitAddon=new FitAddon();\n        term.loadAddon(fitAddon);\n        term.open(termref.current);\n        fitAddon.fit();\n        term.focus()\n        term.writeln(\"connected  to backend \");\n        setOnMessage((data)=>{\n            term.write(data)\n            term.reset()\n            term.write(\"\\n\")\n        })\n        let buffer =\"\";\n        term.onData((data) => {\n\n\n            if (data === '\\r' || data === ' ') {\n                const trimmed = buffer.trim();\n                if (data === '\\r') {\n                \n                    if (trimmed === \"clear\") {\n                        term.reset();\n                        buffer = \"\";\n                        return;\n                    }\n                \n                    \n                }\n                let payload;\n        \n                if (/^\".*\"$/.test(trimmed)) {  \n                    payload = { type: \"string\", value: trimmed.slice(1, -1) };\n                } \n                else if (/^-?\\d+$/.test(trimmed)) { \n                    payload = { type: \"number\", value: Number(trimmed) };\n                } \n                else {\n                    payload = { type: \"string\", value: trimmed };\n                }\n        \n                send(JSON.stringify(payload));  \n                term.write(data === '\\r' ? \"\\r\\n\" : \" \");  \n                buffer = \"\";\n                return;\n            }\n        \n            buffer += data;\n            term.write(data);\n        });\n        \n          \n        terminal.current=term;\n        return ()=>{\n            buffer = \"\";\n\n            \n            if (terminal.current) {\n                terminal.current.reset();  \n                terminal.current.dispose();\n                terminal.current = null; \n\n            }\n\n           \n\n        }       \n\n    },[])    \n    return(<>\n    <div ref={termref} className=\"h-full w-full bg-black text-amber-50\"></div>\n    </>)\n}   "],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AASO,SAAS,SAEhB;AAEe,SAAS;IACpB,MAAM,UAAQ,IAAA,uOAAM,EAAwB;IAC5C,MAAM,WAAS,IAAA,uOAAM,EAAkB;IACvC,MAAK,EAAC,YAAY,EAAC,IAAI,EAAC,GAAE,IAAA,8JAAO;IACjC,IAAA,0OAAS,EAAC;QACN,IAAG,CAAC,QAAQ,OAAO,EAAE;QACrB,MAAM,OAAK,IAAI,yKAAQ,CAAC;YACpB,aAAY;YACZ,UAAS;YACT,OAAM;gBACF,YAAW;gBACX,YAAW;YACf;QACJ;QACA,MAAM,WAAS,IAAI,yMAAQ;QAC3B,KAAK,SAAS,CAAC;QACf,KAAK,IAAI,CAAC,QAAQ,OAAO;QACzB,SAAS,GAAG;QACZ,KAAK,KAAK;QACV,KAAK,OAAO,CAAC;QACb,aAAa,CAAC;YACV,KAAK,KAAK,CAAC;YACX,KAAK,KAAK;YACV,KAAK,KAAK,CAAC;QACf;QACA,IAAI,SAAQ;QACZ,KAAK,MAAM,CAAC,CAAC;YAGT,IAAI,SAAS,QAAQ,SAAS,KAAK;gBAC/B,MAAM,UAAU,OAAO,IAAI;gBAC3B,IAAI,SAAS,MAAM;oBAEf,IAAI,YAAY,SAAS;wBACrB,KAAK,KAAK;wBACV,SAAS;wBACT;oBACJ;gBAGJ;gBACA,IAAI;gBAEJ,IAAI,SAAS,IAAI,CAAC,UAAU;oBACxB,UAAU;wBAAE,MAAM;wBAAU,OAAO,QAAQ,KAAK,CAAC,GAAG,CAAC;oBAAG;gBAC5D,OACK,IAAI,UAAU,IAAI,CAAC,UAAU;oBAC9B,UAAU;wBAAE,MAAM;wBAAU,OAAO,OAAO;oBAAS;gBACvD,OACK;oBACD,UAAU;wBAAE,MAAM;wBAAU,OAAO;oBAAQ;gBAC/C;gBAEA,KAAK,KAAK,SAAS,CAAC;gBACpB,KAAK,KAAK,CAAC,SAAS,OAAO,SAAS;gBACpC,SAAS;gBACT;YACJ;YAEA,UAAU;YACV,KAAK,KAAK,CAAC;QACf;QAGA,SAAS,OAAO,GAAC;QACjB,OAAO;YACH,SAAS;YAGT,IAAI,SAAS,OAAO,EAAE;gBAClB,SAAS,OAAO,CAAC,KAAK;gBACtB,SAAS,OAAO,CAAC,OAAO;gBACxB,SAAS,OAAO,GAAG;YAEvB;QAIJ;IAEJ,GAAE,EAAE;IACJ,qBAAO;kBACP,cAAA,sQAAC;YAAI,KAAK;YAAS,WAAU;;;;;;;AAEjC"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///home/ubantu/Desktop/Project1/compiler/app/Components/Code.tsx"],"sourcesContent":["\"use client\";\nimport { useContext, useRef, useState } from \"react\";\nimport { useHook, useTheme } from \"./hooks\";\nimport axios from \"axios\";\nimport { WebSocketContext } from \"../Provider\";\nimport TerminalArea from \"./Terminal\";\n\nexport default function Code() {\n  const { theme } = useTheme();\n  const [lang, setLang] = useState(\"java\");\n  const [code, setCode] = useState(\"\");\n  const [output,setOutput]=useState();\n  const {connect,socketRef}=useHook();\n  // const {socketRef}=useHook();\n  const [input,setInput]=useState(\"\");\n  \n  const Languages = [\n    \n    \"Cpp\",\n    \"Python\",\n    \"C#\",\n    \"Rust\",\n    \"Go\",\n    \"Javascript\",\n    \"TypeScript\",\n  ];\n\n  const compile=async ()=>{\n\n    console.log(lang);\n    let res=await axios.post(\"http://localhost:8080/compile\" ,{\n      language:lang,code:code\n    })\n    console.log(res.data);\n    const id=res.data;\n    connect(`ws://localhost:8080/ws/compile?id=${id}`,{\n      onOpen:()=>console.log(\"socket connection is live\"),\n\n      onMessage:(m)=>console.log(m.data),\n      onClose:()=>console.log(\"socket is closed\"),\n      onError:()=>console.log(\" there is some error in the code\")\n    })\n  }\n    \n    \n    \n  const lineCount = code.split(\"\\n\").length;\n  \n  return (\n    <>\n      <div className=\"grid grid-cols-2 h-screen   \">\n        \n        \n        <div\n          className={`text-3xl ${\n            theme === \"light\" ? \"bg-gray-100\" : \"bg-gray-800\"\n            } sticky top-0`}\n            >\n          {/* NAV BAR */}\n          <nav\n            className={`relative flex items-center justify-between p-2 border-b\n              ${\n                theme === \"light\"\n                ? \"bg-white text-black border-gray-300\"\n                : \"bg-cyan-900 text-white border-gray-700\"\n                }`}\n                >\n            {/* LANGUAGE SELECT */}\n            <select\n              value={lang}\n              onChange={(e) => setLang(e.target.value)}\n              className={`p-1 text-sm rounded-lg border outline-none ${\n                theme === \"light\"\n                ? \"bg-white text-black border-gray-400\"\n                : \"bg-amber-100 text-black border-white\"\n                }`}\n                >\n              <option value=\"\">Java</option>\n              {Languages.map((item) => (\n                <option key={item} value={item}>\n                  {item}\n                </option>\n              ))}\n            </select>\n\n            <button\n              className={`px-4 py-1 rounded-lg cursor-pointer font-semibold text-sm transition-all\n                ${\n                  theme === \"light\"\n                  ? \"bg-blue-600 text-white hover:bg-blue-700\"\n                  : \"bg-yellow-400 text-black hover:bg-yellow-500\"\n                  }`}\n                  onClick={compile}\n                  >\n              Run\n            </button>\n          </nav>\n\n          {/* EDITOR AREA */}\n          <div className=\"flex h-[calc(100%-60px)]\">\n            \n            {/* LINE NUMBERS */}\n            <div\n              className={`w-12 text-right pr-2 text-lg py-2 border-r select-none \n                ${\n                  theme === \"light\"\n                  ? \"bg-gray-200 border-gray-300 text-gray-600\"\n                  : \"bg-gray-900 border-gray-700 text-gray-400\"\n                  }`}\n                  >\n              {Array.from({ length: lineCount }, (_, i) => (\n                <div key={i}>{i + 1}</div>\n              ))}\n            </div>\n\n            <textarea\n              placeholder=\"Write your code here....\"\n              className={`flex-1 p-2 text-lg font-mono outline-none overflow-auto resize-none\n                ${\n                  theme === \"light\"\n                  ? \"bg-white text-black\"\n                  : \"bg-gray-900 text-white\"\n                  }`}\n                  spellCheck=\"false\"\n                  value={code}\n                  onChange={(e) => setCode(e.target.value)}\n                  ></textarea>\n          </div>\n        </div>\n\n        <div className={`${theme===\"light\"?\"bg-green-300\":\"bg-gray-900\"} border-l-2`}>\n          <nav className={`relative flex items-center justify-between p-2 border-b\n              ${\n                theme === \"light\"\n                ? \"bg-white text-black border-gray-300\"\n                : \"bg-cyan-900 text-white border-gray-700\"\n                }`}>\n            <div className=\"text-xl\">  \n              Output  \n            </div>\n            <div>\n              {/* <button className={`${theme === \"light\"\n                    ? \"bg-blue-600 text-white hover:bg-blue-700\"\n                    : \"bg-yellow-400 text-black hover:bg-yellow-500\"}  rounded-lg px-3  cursor-pointer`}>\n                clear\n              </button> */}\n            </div>\n          </nav>\n          <div className=\"h-full \">\n            <TerminalArea></TerminalArea>\n          </div>\n        </div>\n        \n      </div>\n    </>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+JAAQ;IAC1B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yOAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yOAAQ,EAAC;IACjC,MAAM,CAAC,QAAO,UAAU,GAAC,IAAA,yOAAQ;IACjC,MAAM,EAAC,OAAO,EAAC,SAAS,EAAC,GAAC,IAAA,8JAAO;IACjC,+BAA+B;IAC/B,MAAM,CAAC,OAAM,SAAS,GAAC,IAAA,yOAAQ,EAAC;IAEhC,MAAM,YAAY;QAEhB;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,UAAQ;QAEZ,QAAQ,GAAG,CAAC;QACZ,IAAI,MAAI,MAAM,wKAAK,CAAC,IAAI,CAAC,iCAAiC;YACxD,UAAS;YAAK,MAAK;QACrB;QACA,QAAQ,GAAG,CAAC,IAAI,IAAI;QACpB,MAAM,KAAG,IAAI,IAAI;QACjB,QAAQ,CAAC,kCAAkC,EAAE,IAAI,EAAC;YAChD,QAAO,IAAI,QAAQ,GAAG,CAAC;YAEvB,WAAU,CAAC,IAAI,QAAQ,GAAG,CAAC,EAAE,IAAI;YACjC,SAAQ,IAAI,QAAQ,GAAG,CAAC;YACxB,SAAQ,IAAI,QAAQ,GAAG,CAAC;QAC1B;IACF;IAIA,MAAM,YAAY,KAAK,KAAK,CAAC,MAAM,MAAM;IAEzC,qBACE;kBACE,cAAA,sQAAC;YAAI,WAAU;;8BAGb,sQAAC;oBACC,WAAW,CAAC,SAAS,EACnB,UAAU,UAAU,gBAAgB,cACnC,aAAa,CAAC;;sCAGjB,sQAAC;4BACC,WAAW,CAAC;cACV,EACE,UAAU,UACR,wCACA,0CACA;;8CAGN,sQAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAW,CAAC,2CAA2C,EACrD,UAAU,UACR,wCACA,wCACA;;sDAEJ,sQAAC;4CAAO,OAAM;sDAAG;;;;;;wCAChB,UAAU,GAAG,CAAC,CAAC,qBACd,sQAAC;gDAAkB,OAAO;0DACvB;+CADU;;;;;;;;;;;8CAMjB,sQAAC;oCACC,WAAW,CAAC;gBACV,EACE,UAAU,UACR,6CACA,gDACA;oCACF,SAAS;8CACR;;;;;;;;;;;;sCAMT,sQAAC;4BAAI,WAAU;;8CAGb,sQAAC;oCACC,WAAW,CAAC;gBACV,EACE,UAAU,UACR,8CACA,6CACA;8CAEL,MAAM,IAAI,CAAC;wCAAE,QAAQ;oCAAU,GAAG,CAAC,GAAG,kBACrC,sQAAC;sDAAa,IAAI;2CAAR;;;;;;;;;;8CAId,sQAAC;oCACC,aAAY;oCACZ,WAAW,CAAC;gBACV,EACE,UAAU,UACR,wBACA,0BACA;oCACF,YAAW;oCACX,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;8BAKjD,sQAAC;oBAAI,WAAW,GAAG,UAAQ,UAAQ,iBAAe,cAAc,WAAW,CAAC;;sCAC1E,sQAAC;4BAAI,WAAW,CAAC;cACb,EACE,UAAU,UACR,wCACA,0CACA;;8CACN,sQAAC;oCAAI,WAAU;8CAAU;;;;;;8CAGzB,sQAAC;;;;;;;;;;;sCAQH,sQAAC;4BAAI,WAAU;sCACb,cAAA,sQAAC,iKAAY;;;;;;;;;;;;;;;;;;;;;;;AAOzB"}}]
}